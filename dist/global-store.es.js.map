{"version":3,"file":"global-store.es.js","sources":["../src/createStore.ts"],"sourcesContent":["const storeMap: any = {}\n\nexport interface Store<T> {\n  get(): T\n  set(value: T): void\n}\n\n/**\n * Creates a store of type T.\n * @param id A unique identifier to the store.\n * It can be a symbol created from `Symbol.for(key)`,\n * or a runtime-wide unique string:\n * You should make it descriptive.\n * You should use your module's name or unique key as part of the id.\n * You can add some secret random string to it.\n * e.g. `my-module:some-purpose:some-random-string`\n * @param defaultValue Optional default value.\n */\nexport function createStore<T = any>(id: string | symbol, defaultValue?: T): Store<T> {\n  getStoreValue(id, defaultValue)\n  return {\n    get() {\n      return getStoreValue(id)\n    },\n    set(value: T) {\n      setStoreValue(id, value)\n    }\n  }\n}\n\n/**\n * Gets a global store value.\n * @param id A unique identifier to the store.\n * It can be a symbol created from `Symbol.for(key)`,\n * or a runtime-wide unique string:\n * You should make it descriptive.\n * You should use your module's name or unique key as part of the id.\n * You can add some secret random string to it.\n * e.g. `my-module:some-purpose:some-random-string`\n * @param defaultValue Optional default value.\n */\nexport function getStoreValue<T = any>(id: string | symbol, defaultValue?: T): T {\n  return storeMap[id] = storeMap[id] || defaultValue\n}\n\n/**\n * Sets a global store value.\n * @param id The unique identifier of the store.\n * @param value Any value you want to save.\n */\nexport function setStoreValue(id: string | symbol, value: any) {\n  storeMap[id] = value\n}\n"],"names":[],"mappings":"AAAA,IAAM,QAAQ,GAAQ,EAAE,CAAA;;;;;;;;;;;;AAkBxB,SAAgB,WAAW,CAAU,EAAmB,EAAE,YAAgB;IACxE,aAAa,CAAC,EAAE,EAAE,YAAY,CAAC,CAAA;IAC/B,OAAO;QACL,GAAG;YACD,OAAO,aAAa,CAAC,EAAE,CAAC,CAAA;SACzB;QACD,GAAG,EAAH,UAAI,KAAQ;YACV,aAAa,CAAC,EAAE,EAAE,KAAK,CAAC,CAAA;SACzB;KACF,CAAA;CACF;;;;;;;;;;;;AAaD,SAAgB,aAAa,CAAU,EAAmB,EAAE,YAAgB;IAC1E,OAAO,QAAQ,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,IAAI,YAAY,CAAA;CACnD;;;;;;AAOD,SAAgB,aAAa,CAAC,EAAmB,EAAE,KAAU;IAC3D,QAAQ,CAAC,EAAE,CAAC,GAAG,KAAK,CAAA;CACrB;;;;;"}